(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"123f":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{staticClass:"bg-grey-3"},[i("div",{staticClass:"row q-pa-md"},[i("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 col-sm-12 q-mr-md q-mb-md"},[i("q-btn",{staticClass:"q-mb-xs q-mr-xs",attrs:{push:"",color:"white","text-color":"blue",icon:"fas fa-arrow-left",to:{name:"med-info",params:{id:e.id}}}}),i("q-card",{staticClass:"card-bg text-black"},[i("q-card-section",{staticClass:"text-h6 bg-blue"},[i("div",{staticClass:"text-h6 text-white"},[e._v("Данные лекарства")])]),i("q-list",{staticClass:"bg-white shadow-1",attrs:{dense:"",bordered:"",separator:""}},[i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}]},[i("q-item-section",[i("q-item-label",{staticClass:"text-h6 text-green-9"},[e._v("Название лекарства : "),i("span",{staticClass:"text-subtitle1 text-black"},[e._v(" "+e._s(e.getMedicines.title))])])],1)],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}]},[i("q-item-section",[i("q-item-label",{staticClass:"text-h6 text-green-9"},[e._v("Описание: "),i("span",{staticClass:"text-subtitle1 text-black"},[e._v(" "+e._s(e.getMedicines.description))])])],1)],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}]},[i("q-item-section",[i("q-item-label",{staticClass:"text-h6 text-green-9"},[e._v("Штрих-код: "),i("span",{staticClass:"text-subtitle1 text-black"},[e._v(" "+e._s(e.getMedicines.barcode))])])],1)],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}]},[i("q-item-section",[i("q-item-label",{staticClass:"text-h6 text-green-9"},[e._v("Страна: "),i("span",{staticClass:"text-subtitle1 text-black"},[e._v(" "+e._s(e.getMedicines.country))])])],1)],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}]},[i("q-item-section",[i("q-item-label",{staticClass:"text-h6 text-green-9"},[e._v("Производитель: "),i("span",{staticClass:"text-subtitle1 text-black"},[e._v(" "+e._s(e.getMedicines.manufacture))])])],1)],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}]},[i("q-item-section",[i("q-item-label",{staticClass:"text-h6 text-green-9"},[e._v("Серийный номер: "),i("span",{staticClass:"text-subtitle1 text-black"},[e._v(" "+e._s(e.getMedicines.serial_code))])])],1)],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}]},[i("q-item-section",[i("q-item-label",{staticClass:"text-h6 text-green-9"},[e._v("НДС: "),i("span",{staticClass:"text-subtitle1 text-black"},[e._v(" "+e._s(e.getMedicines.vat)+"%")])])],1)],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}]},[i("q-item-section",[i("q-item-label",{staticClass:"text-h6 text-green-9"},[e._v("Общее количество в бизнесе: "),i("span",{staticClass:"text-subtitle1 text-black"},[e._v(" "+e._s(e.getMedicines.total_quantity))])])],1)],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}]},[i("q-item-section",[i("q-item-label",{staticClass:"text-h6 text-green-9"},[e._v("Оставшееся количество в бизнесе: "),i("span",{staticClass:"text-subtitle1 text-black"},[e._v(e._s(e.getMedicines.left_quantity))])])],1)],1)],1)],1)],1),e._l(e.medicine_info_add,(function(t,a){return i("div",{key:a,staticClass:"col-lg-12 col-md-12 col-xs-12 col-sm-12 q-mt-xs"},[i("q-card",{staticClass:"card-bg text-black"},[i("q-card-section",{staticClass:"text-h6 bg-blue row justify-between"},[i("div",[i("div",{staticClass:"text-h6 text-white"},[e._v("Добавить инфо для лекарства #"+e._s(a+1))]),i("div",{staticClass:"text-subtitle2 text-white"},[e._v("Введите данные лекарства")])]),i("div",[i("q-btn",{attrs:{flat:""},on:{click:function(t){return e.removeInfoForMedicine(a)}}},[i("q-icon",{staticClass:"text-white text-h5",attrs:{name:"close"}})],1)],1)]),i("q-card-section",{staticClass:"q-pa-sm"},[i("q-list",{staticClass:"row"},[i("q-item",{staticClass:"col-lg-6 col-md-12 col-sm-12 col-xs-12"},[i("q-item-section",[i("q-input",{attrs:{color:"blue",outlined:"",dense:"",label:"Кол-во упаковок"},model:{value:e.medicine_info_add[a].quantity,callback:function(t){e.$set(e.medicine_info_add[a],"quantity",t)},expression:"medicine_info_add[item].quantity"}})],1)],1),e.getMedicineDetails.capacity>1?i("q-item",{staticClass:"col-lg-6 col-md-12 col-sm-12 col-xs-12"},[i("q-item-section",[i("q-input",{attrs:{color:"blue",outlined:"",dense:"",label:"Кол-во штук"},model:{value:e.medicine_info_add[a].piece,callback:function(t){e.$set(e.medicine_info_add[a],"piece",t)},expression:"medicine_info_add[item].piece"}})],1)],1):e._e(),i("q-item",{staticClass:"col-lg-6 col-md-12 col-sm-12 col-xs-12"},[i("q-item-section",[i("q-input",{attrs:{color:"blue",outlined:"",dense:"",label:"Цена покупки"},model:{value:e.medicine_info_add[a].purchase_price,callback:function(t){e.$set(e.medicine_info_add[a],"purchase_price",t)},expression:"medicine_info_add[item].purchase_price"}})],1)],1),i("q-item",{staticClass:"col-lg-6 col-md-12 col-sm-12 col-xs-12"},[i("q-item-section",[i("q-input",{attrs:{color:"blue",outlined:"",dense:"",label:"Цена продажи"},model:{value:e.medicine_info_add[a].selling_price,callback:function(t){e.$set(e.medicine_info_add[a],"selling_price",t)},expression:"medicine_info_add[item].selling_price"}})],1)],1),i("q-item",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[i("q-item-section",[i("q-input",{attrs:{dense:"",color:"blue",outlined:"",label:"Годен до"},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[i("q-popup-proxy",{ref:"qDateProxy",refInFor:!0,attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-date",{attrs:{color:"blue",outlined:"",mask:"YYYY-MM-DD","today-btn":""},on:{input:function(){return e.$refs.qDateProxy[a].hide()}},model:{value:e.medicine_info_add[a].expire_date,callback:function(t){e.$set(e.medicine_info_add[a],"expire_date",t)},expression:"medicine_info_add[item].expire_date"}})],1)],1)]},proxy:!0}],null,!0),model:{value:e.medicine_info_add[a].expire_date,callback:function(t){e.$set(e.medicine_info_add[a],"expire_date",t)},expression:"medicine_info_add[item].expire_date"}})],1)],1)],1)],1)],1)],1)})),i("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 col-sm-12 q-mt-md row justify-between"},[i("q-btn",{attrs:{color:"blue",icon:"add",label:"Добавить информацию о лекарстве",size:"md"},on:{click:e.addInfoForMedicine}}),0!=e.medicine_info_add.length?i("q-btn",{staticClass:"text-capitalize bg-blue text-white",attrs:{size:"md"},on:{click:e.addMedicineInfo}},[e._v("Добавить")]):e._e()],1)],2)])},s=[],c=(i("8e6e"),i("8a81"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("967e")),n=i.n(c),l=(i("f751"),i("96cf"),i("fa84")),r=i.n(l),d=i("c47a"),o=i.n(d),p=(i("c5f6"),i("2f62"));function _(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function m(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach((function(t){o()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var u={props:{id:[String,Number]},data:function(){return{getMedicines:{title:"",barcode:"",country:"",manufacture:"",serial_code:"",vat:"",total_quantity:"",left_quantity:"",capacity:""},response:{data:{data:{}}},medicine_info_add:[{quantity:"",piece:"",purchase_price:"",selling_price:"",expire_date:""}]}},watch:{},computed:m({},Object(p["c"])(["getMedicineDetails"])),mounted:function(){var e=this;return r()(n.a.mark((function t(){var i;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.GET_MEDICINE_DETAIL({id:e.id});case 2:i=t.sent,Object.assign(e.getMedicines,{title:i.title,description:i.description,barcode:i.barcode,country:i.country,manufacture:i.manufacture,serial_code:i.serial_code,vat:i.vat,total_quantity:i.total_quantity,left_quantity:i.left_quantity,capacity:i.capacity}),e.getMedicines.capacity<=1&&(e.medicine_info_add[0].piece=0);case 5:case"end":return t.stop()}}),t)})))()},methods:m(m({},Object(p["b"])(["ADD_MEDICINE_INFO","GET_MEDICINE_DETAIL"])),{},{addInfoForMedicine:function(){this.getMedicines.capacity<=1?this.$set(this.medicine_info_add,this.medicine_info_add.length,{quantity:"",piece:0,purchase_price:"",selling_price:"",expire_date:""}):this.$set(this.medicine_info_add,this.medicine_info_add.length,{quantity:"",piece:"",purchase_price:"",selling_price:"",expire_date:""})},removeInfoForMedicine:function(e){this.medicine_info_add.splice(e,1)},addMedicineInfo:function(){var e=this;return r()(n.a.mark((function t(){var i,a,s,c;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<e.medicine_info_add.length)){t.next=8;break}return t.next=4,e.ADD_MEDICINE_INFO({business_medicine_id:e.id,quantity:e.medicine_info_add[a].quantity,piece:e.medicine_info_add[a].piece,purchase_price:e.medicine_info_add[a].purchase_price,selling_price:e.medicine_info_add[a].selling_price,expire_date:e.medicine_info_add[a].expire_date});case 4:i=t.sent;case 5:a++,t.next=1;break;case 8:for(e.$set(e.medicine_info_add,0,{quantity:"",piece:"",purchase_price:"",selling_price:"",expire_date:""}),s=e.medicine_info_add.length,c=1;c<s;c++)e.medicine_info_add.pop();"SUCCESS"==i.status?e.$q.notify({message:"Успешно добавлено!",color:"green"}):e.$q.notify({message:"Ошибка!",color:"negative"});case 12:case"end":return t.stop()}}),t)})))()}})},f=u,b=(i("726e"),i("2877")),x=Object(b["a"])(f,a,s,!1,null,"a0fe7640",null);t["default"]=x.exports},"1db2":function(e,t,i){},"726e":function(e,t,i){"use strict";var a=i("1db2"),s=i.n(a);s.a}}]);